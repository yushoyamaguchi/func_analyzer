# caller追跡マルチスレッド化
fn_hashとno_used_fnをRwLockに変更